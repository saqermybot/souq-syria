@import "./theme.css";
:root{
  --bg:#0b1220;
  --card:#121b2d;
  --muted:#8aa0c6;
  --text:#e7f0ff;
  --accent:#4aa3ff;
  --danger:#ff5a5a;
  --ok:#31d0aa;
  --border:rgba(255,255,255,.08);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 16px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: radial-gradient(1200px 700px at 20% 0%, rgba(74,163,255,.18), transparent 60%),
              radial-gradient(900px 600px at 80% 20%, rgba(49,208,170,.14), transparent 55%),
              var(--bg-main);
  color: var(--text-main);
}

a{ color:inherit; text-decoration:none; }
.container{ max-width: 980px; margin: 0 auto; padding: 18px; }

.header{
  position: sticky; top:0; z-index:10;
  backdrop-filter: blur(12px);
  background: rgba(11,18,32,.75);
  border-bottom: 1px solid var(--border);
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between;
  padding: 12px 18px;
  max-width: 980px; margin: 0 auto;
}
.brand{
  display:flex; align-items:center; gap:10px;
  font-weight: 700;
  letter-spacing:.2px;
}
.pill{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
  padding: 8px 12px;
  border-radius: 999px;
}
.icon-btn{
  width: 40px; height: 40px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
  border-radius: 12px;
}
.icon-btn:hover{ border-color: rgba(74,163,255,.45); }

.grid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
@media (max-width: 900px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
@media (max-width: 640px){ .grid{ grid-template-columns: 1fr;} }

.card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card-body{ padding: 14px; }
.muted{ color: var(--muted); font-size: 13px; }
.title{ font-size: 16px; font-weight: 700; margin:0 0 8px; }
.row{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--border);
  background: rgba(255,255,255,.06);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 12px;
  cursor:pointer;
}
.btn:hover{ border-color: rgba(74,163,255,.45); }
.btn-primary{
  background: linear-gradient(135deg, rgba(74,163,255,.9), rgba(49,208,170,.7));
  border-color: transparent;
  color: #07101f;
  font-weight: 800;
}
.input, .select, .textarea{
  width:100%;
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  outline:none;
}
.textarea{ min-height: 120px; resize: vertical; }
.hr{ height:1px; background: var(--border); margin: 14px 0; }
.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding: 6px 10px;
  border-radius: 999px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.04);
  font-size: 13px;
}

/* Dense grid for homepage */
.grid.dense{
  grid-template-columns: repeat(3, 1fr);
}
@media (max-width: 1100px){ .grid.dense{ grid-template-columns: repeat(2, 1fr);} }
@media (max-width: 640px){ .grid.dense{ grid-template-columns: 1fr;} }

.card-link{
  display:block;
  position:relative;
}

.thumb{
  width:100%;
  height: 170px;
  object-fit: cover;
  display:block;
}

.thumb-empty{
  height:170px;
  background: rgba(255,255,255,.03);
  display:flex;
  align-items:center;
  justify-content:center;
  color: var(--muted);
}

/* Heart overlay */
.heart{
  position:absolute;
  top: 10px;
  right: 10px;
  display:flex;
  align-items:center;
  gap:8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  cursor:pointer;
  user-select:none;
}
.heart:hover{ border-color: rgba(255,255,255,.28); }
.heart .count{ font-size:12px; color: var(--text); opacity:.95; }
.heart .icon{ font-size:14px; line-height:1; }
.heart.on{
  background: rgba(255,90,90,.22);
  border-color: rgba(255,90,90,.55);
}

/* Marktplaats-like glass favorite */
.fav-bubble{
  position:absolute;
  top: 12px;
  right: 12px;
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;

  background: rgba(255,255,255,.78);
  border: 1px solid rgba(0,0,0,.06);
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  cursor:pointer;
  user-select:none;
}

.fav-bubble:active{
  transform: scale(.98);
}

.fav-bubble .fav-icon{
  width: 18px;
  height: 18px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 16px;
  line-height: 1;
  color: rgba(0,0,0,.55);
}

.fav-bubble.on{
  background: rgba(255,255,255,.90);
}

.fav-bubble.on .fav-icon{
  color: #e11d48; /* nice red */
  filter: drop-shadow(0 2px 6px rgba(225,29,72,.25));
}

.fav-bubble .fav-count{
  font-size: 12px;
  font-weight: 800;
  color: rgba(0,0,0,.65);
  min-width: 14px;
  text-align:center;
}

.fav-bubble.on .fav-count{
  color: rgba(0,0,0,.75);
}

/* Royal blue luxury favorite */
.fav-bubble{
  transition: transform .12s ease, background .18s ease, box-shadow .18s ease, border-color .18s ease;
}

.fav-bubble.on{
  background: rgba(235, 244, 255, .92);          /* soft blue glass */
  border-color: rgba(59, 130, 246, .40);         /* blue border */
  box-shadow: 0 10px 26px rgba(0,0,0,.22), 0 0 0 6px rgba(59,130,246,.14);
}

.fav-bubble .fav-icon{
  transition: color .18s ease, transform .18s ease, filter .18s ease;
}

.fav-bubble.on .fav-icon{
  color: rgba(37, 99, 235, .95);                 /* royal blue */
  transform: translateY(-.5px);
  filter: drop-shadow(0 4px 10px rgba(37,99,235,.22));
}

.fav-bubble.on .fav-count{
  color: rgba(10, 40, 90, .85);
}
.ellipsis{ overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }

/* Force dense grid to stay 2 columns on mobile (Marktplaats-like) */
@media (max-width: 640px){
  .grid.dense{ grid-template-columns: repeat(2, 1fr) !important; }
  .thumb{ height: 140px !important; }
  .card-body{ padding: 10px !important; }
  .title{ font-size: 14px !important; }
  .muted{ font-size: 12px !important; }
}

.deal-badge{
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 800;
  color: rgba(255,255,255,.90);
  background: rgba(59,130,246,.18);
  border: 1px solid rgba(59,130,246,.35);
}

/* Deal badge (بيع / إيجار) — smaller & softer */
.deal-badge {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(80, 160, 255, 0.15);
  color: #7fb3ff;
  border: 1px solid rgba(80, 160, 255, 0.25);
  line-height: 1.4;
  white-space: nowrap;
}

/* Topbar (header) layout fix */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 12px;
}
.brand{
  font-weight:900;
  font-size:18px;
  color:rgba(255,255,255,.92);
  text-decoration:none;
  white-space:nowrap;
}
.top-actions{
  display:flex;
  align-items:center;
  gap:10px;
}
.icon-btn{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  width:46px;
  height:40px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  text-decoration:none;
  color:rgba(255,255,255,.92);
  font-size:18px;
}
.chat-container {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 110px);
  padding: 12px;
  overflow-y: auto;
}

.chat-bubble {
  max-width: 80%;
  padding: 10px 14px;
  border-radius: 14px;
  margin-bottom: 10px;
  font-size: 14px;
}

.chat-bubble.me {
  background: var(--bubble-me);
  align-self: flex-end;
}

.chat-bubble.other {
  background: var(--bubble-other);
  align-self: flex-start;
}

.chat-input-bar {
  position: sticky;
  bottom: 0;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--bg-card);
  border-top: 1px solid var(--border-soft);
}

.chat-input {
  flex: 1;
  height: 44px;
  resize: none;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid var(--border-soft);
  font-size: 14px;
}

.chat-send {
  height: 44px;
  padding: 0 16px;
  border-radius: 10px;
  background: var(--primary);
  color: white;
  border: none;
}
/* ===== SIMPLE THEME OVERRIDE ===== */

/* الخلفية العامة */
body {
  background: #f4f6f8 !important;
  color: #1f2937 !important;
}

/* الكروت */
.card {
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06) !important;
}

/* النص الثانوي */
.muted {
  color: #6b7280 !important;
}

/* الأزرار الأساسية */
.btn-primary {
  background: #3b82f6 !important;
  color: white !important;
}

/* مربعات الرسائل */
textarea,
input,
select {
  background: #ffffff !important;
  color: #1f2937 !important;
  border: 1px solid #d1d5db !important;
}

/* فقاعات الرسائل */
.chat-bubble {
  background: #f1f5f9 !important;
  color: #1f2937 !important;
}

/* فقاعاتي */
.chat-bubble.mine {
  background: #e8f0ff !important;
}

.icon-btn:active{ transform: translateY(1px); }

/* ===== LIGHT THEME OVERRIDE (single-source) ===== */
:root{
  --bg:#e9edf3;                 /* page background */
  --card:#ffffff;               /* cards */
  --text:#0f172a;               /* main text */
  --muted:#64748b;              /* muted text */
  --border:rgba(15,23,42,.10);  /* borders */
  --shadow: 0 8px 20px rgba(15,23,42,.06);
  --accent:#2563eb;             /* primary blue */
}

/* global */
body{
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* cards */
.card{
  background: var(--card) !important;
  border-color: var(--border) ;
  box-shadow: var(--shadow) !important;
}

/* text helpers */
.muted{ color: var(--muted) !important; }
.title{ color: var(--text) !important; }

/* inputs */
.input, .select, .textarea{
  background: #ffffff !important;
  color: var(--text) !important;
  border-color: rgba(15,23,42,.12) !important;
}
.input::placeholder, .textarea::placeholder{
  color: rgba(100,116,139,.75) !important;
}

/* buttons */
.btn{
  background: rgba(15,23,42,.04) !important;
  color: var(--text) !important;
  border-color: rgba(15,23,42,.12) !important;
}
.btn-primary{
  background: var(--accent) !important;
  color: #ffffff !important;
  border-color: transparent !important;
}

/* header */
.header{
  background: rgba(255,255,255,.88) !important;
  border-bottom: 1px solid rgba(15,23,42,.10) !important;
}
.icon-btn, .pill{
  background: rgba(15,23,42,.04) !important;
  border-color: rgba(15,23,42,.12) !important;
}

/* message bubbles (if used) */
.chat-bubble{ background:#f1f5f9 !important; color: var(--text) !important; }
.chat-bubble.mine{ background:#dbeafe !important; }

/* deal badge */
.deal-badge{
  background: rgba(37,99,235,.10) !important;
  border-color: rgba(37,99,235,.18) !important;
  color: rgba(37,99,235,.95) !important;
}

/* Header text fix (brand + guest) */
.topbar, .header {
  color: var(--text) !important;
}
.topbar a, .header a,
.brand, .topbar .brand {
  color: var(--text) !important;
  font-weight: 900;
}

/* If old header had white text, force it darker */
.topbar * {
  color: var(--text) !important;
}

/* Post form: make labels/inputs clearer */
label.muted{
  font-size: 14px !important;
  font-weight: 800 !important;
  color: var(--text) !important;
}

.input, .textarea{
  font-size: 16px !important;
  color: var(--text) !important;
}

.textarea{
  min-height: 120px;
}

/* Category cards on post step: slightly smaller & tighter */
.grid.dense .card .card-body{
  padding: 12px !important;
}
.grid.dense .card .card-body > div:first-child{
  font-size: 15px !important;
}

/* Category card active highlight (works with inline styles) */
.grid.dense button.card{
  transition: box-shadow .15s ease, border-color .15s ease, transform .15s ease;
}
.grid.dense button.card:active{
  transform: translateY(1px);
}

/* iOS fix: prevent zoom on focus (must be >= 16px) */
input, textarea, select,
.input, .textarea, .select {
  font-size: 16px !important;
}

/* iOS: prevent zoom on focus */
input, textarea, select { font-size: 16px !important; }
